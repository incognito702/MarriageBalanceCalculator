<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>çµå©šé‡£ã‚Šåˆã„è¨ˆç®—æ©Ÿ</title>
<style>
  body { font-family: 'Hiragino Sans', sans-serif; background: #f7f7f7; padding: 20px; line-height: 1.6; }
  h1 { text-align: center; margin-bottom: 20px; }
  .card { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 30px; }
  label { display: block; margin-top: 10px; }
  input, select { padding: 6px; margin-top: 4px; width: 100%; border-radius: 6px; border: 1px solid #ccc; font-size: 16px; }
  .result { background: #f0f8ff; border-left: 5px solid #4CAF50; padding: 10px; margin-top: 15px; border-radius: 8px; font-weight: bold; white-space: pre-line; }
  .checkbox-list { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; margin-top: 10px; }
  .explain { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-top: 30px; }
  h2 { margin-top: 0; }
  code { background: #f5f5f5; padding: 2px 4px; border-radius: 4px; }
</style>
</head>
<body>

<h1>ğŸ’ çµå©šé‡£ã‚Šåˆã„è¨ˆç®—æ©Ÿ</h1>

<div class="card">
  <h2>ğŸ‘” ç”·æ€§ç”¨</h2>
  <label>ç”·æ€§å¹´é½¢: <input type="number" id="m_age" value="28"></label>
  <label>ç”·æ€§å¹´å (ä¸‡å††): <input type="number" id="m_income" value="600"></label>
  <label>ç”·æ€§èº«é•· (cm): <input type="number" id="m_height" value="172"></label>
  
  <p>âœ… é›£ç‚¹ï¼ˆå½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã‚’ãƒã‚§ãƒƒã‚¯ï¼‰</p>
  <div class="checkbox-list">
    <label><input type="checkbox" class="m_demerit"> ğŸš¬ å–«ç…™</label>
    <label><input type="checkbox" class="m_demerit"> âš–ï¸ è‚¥æº€ï¼ˆBMI30ä»¥ä¸Šï¼‰</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ“ éå¤§å’</label>
    <label><input type="checkbox" class="m_demerit"> ğŸšŒ é€šå‹¤1æ™‚é–“åŠä»¥ä¸Š</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ’‡ æ¸…æ½”æ„Ÿä¸è¶³</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ’¬ è©±ã—æ–¹ã®ç™–</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ  å®Ÿå®¶ä¾å­˜</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ’µ å€Ÿé‡‘ã‚ã‚Š</label>
    <label><input type="checkbox" class="m_demerit"> âš ï¸ ç„¡è·æœŸé–“é•·ã„</label>
    <label><input type="checkbox" class="m_demerit"> ğŸ’» è¶£å‘³ãŒæ¥µç«¯</label>
  </div>

  <button onclick="calcMale()">å¥³æ€§æ¡ä»¶ã‚’è¨ˆç®—</button>
  <div id="male_result" class="result"></div>
</div>

<div class="card">
  <h2>ğŸ‘— å¥³æ€§ç”¨</h2>
  <label>å¥³æ€§å¹´é½¢: <input type="number" id="f_age" value="27"></label>
  <button onclick="calcFemale()">ç”·æ€§æ¡ä»¶ã‚’è¨ˆç®—</button>
  <div id="female_result" class="result"></div>
</div>

<!-- â–¼â–¼â–¼ è§£èª¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ â–¼â–¼â–¼ -->
<div class="explain">
  <h2>ğŸ“˜ è¨ˆç®—ãƒ¢ãƒ‡ãƒ«ã®èª¬æ˜</h2>
  <p>ã“ã®è¨ˆç®—æ©Ÿã¯ã€<strong>ç”·å¥³å…±é€šã®æ–¹ç¨‹å¼</strong>ã‚’ä½¿ã£ã¦ã€Œçµå©šç›¸æ‰‹ã¨ã—ã¦é‡£ã‚Šåˆã†æ¡ä»¶ã€ã‚’è¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚</p>

  <h3>ğŸ”¢ å…±é€šã®åŸºç¤æ–¹ç¨‹å¼</h3>
  <pre><code>å¥³æ€§å¹´é½¢ = 45 âˆ’ (å¹´å Ã· 200) âˆ’ ((èº«é•· âˆ’ 170) Ã· 2) + (é›£ç‚¹ Ã— 1.5)</code></pre>
  <ul>
    <li><strong>å¹´å</strong>ï¼ˆä¸‡å††å˜ä½ï¼‰ â€¦ é«˜ã„ã»ã©è‹¥ã„å¥³æ€§ã¨é‡£ã‚Šåˆã†</li>
    <li><strong>èº«é•·</strong>ï¼ˆcmï¼‰ â€¦ é«˜ã„ã»ã©æœ‰åˆ©ï¼ˆ170cmã‚’åŸºæº–ï¼‰</li>
    <li><strong>é›£ç‚¹</strong> â€¦ å¤šã„ã»ã©é‡£ã‚Šåˆã†å¥³æ€§å¹´é½¢ã¯ä¸ŠãŒã‚‹ï¼ˆ1ã¤ã«ã¤ã+1.5æ­³ï¼‰</li>
    <li><strong>å¹´é½¢å·®è£œæ­£</strong> â€¦ ç”·æ€§ãŒå¥³æ€§ã‚ˆã‚Š13æ­³ä»¥ä¸Šå¹´ä¸Šã ã¨ã€é›£ç‚¹+1ã•ã‚Œå¥³æ€§å¹´é½¢+2æ­³</li>
  </ul>

  <h3>âš–ï¸ é›£ç‚¹ãƒªã‚¹ãƒˆï¼ˆæœ€å¤§10ï¼‰</h3>
  <ol>
    <li>ğŸš¬ å–«ç…™</li>
    <li>âš–ï¸ è‚¥æº€ï¼ˆBMI30ä»¥ä¸Šï¼‰</li>
    <li>ğŸ“ éå¤§å’</li>
    <li>ğŸšŒ é€šå‹¤1æ™‚é–“åŠä»¥ä¸Š</li>
    <li>ğŸ’‡ æ¸…æ½”æ„Ÿä¸è¶³</li>
    <li>ğŸ’¬ è©±ã—æ–¹ã®ç™–</li>
    <li>ğŸ  å®Ÿå®¶ä¾å­˜ï¼ˆè¦ªã¨ã®åŒå±…å¿…é ˆï¼‰</li>
    <li>ğŸ’µ å€Ÿé‡‘ï¼ˆå¥¨å­¦é‡‘é™¤ãï¼‰</li>
    <li>âš ï¸ ç„¡è·æœŸé–“ãŒé•·ã„ï¼ˆ1å¹´ä»¥ä¸Šï¼‰</li>
    <li>ğŸ’» è¶£å‘³ãŒæ¥µç«¯ï¼ˆã‚²ãƒ¼ãƒ å»ƒäººãƒ»åé›†ç™–ãªã©ï¼‰</li>
  </ol>

  <h3>ğŸ¯ é‡£ã‚Šåˆã„åº¦ï¼ˆï¼…ï¼‰ã¨ã¯ï¼Ÿ</h3>
  <ul>
    <li>100ï¼… â€¦ éå¸¸ã«é‡£ã‚Šåˆã£ã¦ã„ã‚‹</li>
    <li>50ã€œ80ï¼… â€¦ ã‚ã‚‹ç¨‹åº¦é‡£ã‚Šåˆã£ã¦ã„ã‚‹</li>
    <li>30ï¼…ä»¥ä¸‹ â€¦ æ¡ä»¶é¢ã§ã¯é‡£ã‚Šåˆã„ã«ãã„</li>
  </ul>
</div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸ‘” ç”·æ€§ç‰ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function calcMale() {
  const mAge = parseFloat(document.getElementById('m_age').value);
  const income = parseFloat(document.getElementById('m_income').value);
  const height = parseFloat(document.getElementById('m_height').value);

  // é›£ç‚¹æ•°ã‚«ã‚¦ãƒ³ãƒˆ
  const demeritChecks = document.querySelectorAll('.m_demerit');
  let demeritCount = 0;
  demeritChecks.forEach(cb => { if (cb.checked) demeritCount++; });

  // å¥³æ€§å¹´é½¢ã®ä¸­å¿ƒå€¤ï¼ˆå…±é€šãƒ¢ãƒ‡ãƒ«ï¼‰
  let femaleAge = 45 - (income / 200) - ((height - 170) / 2) + (demeritCount * 1.5);

  // å¹´é½¢å·®è£œæ­£
  if (mAge - femaleAge > 13) {
    demeritCount += 1;
    femaleAge += 2;
  }
  if (femaleAge < 18) femaleAge = 18;

  // ãƒ¬ãƒ³ã‚¸
  const femaleAgeMin = Math.max(18, Math.floor(femaleAge - 1));
  const femaleAgeMax = Math.ceil(femaleAge + 2);

  // ğŸ¯ é‡£ã‚Šåˆã„åº¦ç®—å‡º
  let ageDiff = Math.abs(mAge - femaleAge);
  let score = 100 - (ageDiff * 3 + demeritCount * 5);
  if (score < 0) score = 0;
  if (score > 100) score = 100;

  document.getElementById('male_result').innerText =
`${mAge}æ­³ç”·æ€§ï¼ˆå¹´å${income}ä¸‡å††, ${height}cm, é›£ç‚¹${demeritCount}ï¼‰ã®å ´åˆ

ğŸ‘© é‡£ã‚Šåˆã†å¥³æ€§å¹´é½¢ãƒ¬ãƒ³ã‚¸ï¼š${femaleAgeMin}ã€œ${femaleAgeMax}æ­³
ğŸ’¯ é‡£ã‚Šåˆã„åº¦ï¼š${score.toFixed(0)}ï¼…`;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸ‘— å¥³æ€§ç‰ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function calcFemale() {
  const fAge = parseFloat(document.getElementById('f_age').value);

  // ç”·æ€§å¹´åã¨èº«é•·ã®åŸºæº–å€¤ã‚’å…±é€šãƒ¢ãƒ‡ãƒ«ã‹ã‚‰é€†ç®—
  let baseIncome = (45 - fAge) * 200 * 0.5; 
  if (baseIncome < 300) baseIncome = 300;

  const maleAgeMin = fAge - 2;
  const maleAgeMax = fAge + 7;

  const heightMin = 165 + (27 - fAge) * 0.2;
  const heightMax = heightMin + 10;

  let demeritRange = "0ã€œ1";
  if (fAge >= 30 && fAge <= 34) demeritRange = "0ã€œ3";
  else if (fAge >= 35) demeritRange = "0ã€œ5";

  // ğŸ¯ é‡£ã‚Šåˆã„åº¦ï¼ˆå¥³æ€§ç‰ˆã¯ç›®å®‰ï¼‰
  let scoreLow = Math.max(0, 100 - (fAge - 20) * 2);
  let scoreHigh = Math.min(100, scoreLow + 20);

  document.getElementById('female_result').innerText =
`${fAge}æ­³å¥³æ€§ã®å ´åˆ

ğŸ‘¨ ç”·æ€§å¹´é½¢ãƒ¬ãƒ³ã‚¸ï¼š${maleAgeMin}ã€œ${maleAgeMax}æ­³
ğŸ’° å¹´åç›®å®‰ï¼šç´„${Math.round(baseIncome)}ä¸‡å††ã€œ
ğŸ“ èº«é•·ãƒ¬ãƒ³ã‚¸ï¼š${Math.round(heightMin)}ã€œ${Math.round(heightMax)}cm
âš ï¸ é›£ç‚¹ãƒ¬ãƒ³ã‚¸ï¼š${demeritRange}
ğŸ’¯ é‡£ã‚Šåˆã„åº¦ï¼ˆç›®å®‰ï¼‰ï¼š${scoreLow.toFixed(0)}ã€œ${scoreHigh.toFixed(0)}ï¼…`;
}
</script>

</body>
</html>
